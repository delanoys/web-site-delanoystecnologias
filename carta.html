<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Para Ti, Mi Amor</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #f8e1e7, #fdfbfb);
      color: #333;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    header {
      background-color: #e91e63;
      color: white;
      padding: 30px 20px;
    }

    .form-container {
      padding: 50px 20px;
    }

    input[type="password"] {
      padding: 10px;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 5px;
    }

    button {
      padding: 10px 20px;
      background-color: #e91e63;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-left: 10px;
    }

    .content {
      padding: 40px 20px;
      max-width: 800px;
      margin: 0 auto;
      display: none;
      opacity: 0;
      animation: fadeIn 2s ease forwards;
    }

    img {
      max-width: 100%;
      border-radius: 10px;
      margin: 20px 0;
    }

    audio {
      margin-top: 30px;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cpath fill='%23e91e63' d='M23.6,5.6c-2.2,0-4.2,1.1-5.6,2.8C16,8.4,15.8,8.2,15.6,8c-1.4-1.7-3.4-2.8-5.6-2.8C6.1,5.6,4,7.7,4,10.4c0,6.2,12,14,12,14s12-7.8,12-14C28,7.7,25.9,5.6,23.6,5.6z'/%3E%3C/svg%3E">
<header style="
    background: linear-gradient(90deg, #e91e63 0%, #f06292 100%);
    color: #fff;
    padding: 40px 20px 30px 20px;
    border-bottom-left-radius: 40px 60px;
    border-bottom-right-radius: 40px 60px;
    box-shadow: 0 8px 32px #e91e6340;
    position: relative;
    overflow: hidden;
">
    <h1 style="
        font-family: 'Dancing Script', cursive, 'Segoe UI', sans-serif;
        font-size: 3rem;
        margin: 0 0 10px 0;
        letter-spacing: 2px;
        text-shadow: 0 2px 16px #e91e6380, 0 1px 0 #fff2;
        animation: romanticFadeIn 1.7s cubic-bezier(.77,0,.18,1);
    ">Para Ti mi Linda Esposa, Cindy Cuentas Diaz , Mi Amor <span style="font-size:2.2rem; vertical-align: middle;">&#10084;&#65039;</span></h1>
    <p style="
        font-size: 1.35rem;
        font-style: italic;
        margin: 0;
        letter-spacing: 1px;
        text-shadow: 0 1px 8px #e91e6380;
        animation: romanticFadeIn 2.5s 0.5s cubic-bezier(.77,0,.18,1) both;
    ">Una carta desde lo profundo de mi alma</p>
    <style>
        @keyframes romanticFadeIn {
            from { opacity: 0; transform: translateY(-30px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .floating-heart {
            position: absolute;
            width: 32px;
            height: 32px;
            pointer-events: none;
            opacity: 0.7;
            animation: floatHeart 2.2s linear infinite;
        }
        /* Las posiciones iniciales de los corazones base */
        .floating-heart:nth-child(1) {
            left: 12%;
            top: 60%;
            animation-delay: 0s;
            width: 28px;
            height: 28px;
        }
        .floating-heart:nth-child(2) {
            left: 80%;
            top: 50%;
            animation-delay: 0.4s;
            width: 36px;
            height: 36px;
        }
        .floating-heart:nth-child(3) {
            left: 25%;
            top: 80%;
            animation-delay: 0.7s;
            width: 22px;
            height: 22px;
        }
        .floating-heart:nth-child(4) {
            left: 65%;
            top: 75%;
            animation-delay: 1.1s;
            width: 30px;
            height: 30px;
        }
        .floating-heart:nth-child(5) {
            left: 50%;
            top: 65%;
            animation-delay: 1.5s;
            width: 26px;
            height: 26px;
        }
        @keyframes floatHeart {
            0% {
                opacity: 0.7;
                transform: translateY(0) scale(1) rotate(-10deg);
            }
            30% {
                opacity: 1;
                transform: translateY(-20px) scale(1.1) rotate(8deg);
            }
            60% {
                opacity: 0.9;
                transform: translateY(-50px) scale(1.05) rotate(-6deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-90px) scale(1.15) rotate(12deg);
            }
        }
    </style>
    <span class="floating-heart" style="color:#fff;">
        <svg viewBox="0 0 32 32" fill="#fff" width="100%" height="100%">
            <path d="M23.6,5.6c-2.2,0-4.2,1.1-5.6,2.8C16,8.4,15.8,8.2,15.6,8c-1.4-1.7-3.4-2.8-5.6-2.8C6.1,5.6,4,7.7,4,10.4
            c0,6.2,12,14,12,14s12-7.8,12-14C28,7.7,25.9,5.6,23.6,5.6z"/>
        </svg>
    </span>
    <span class="floating-heart" style="color:#e91e63;">
        <svg viewBox="0 0 32 32" fill="#e91e63" width="100%" height="100%">
            <path d="M23.6,5.6c-2.2,0-4.2,1.1-5.6,2.8C16,8.4,15.8,8.2,15.6,8c-1.4-1.7-3.4-2.8-5.6-2.8C6.1,5.6,4,7.7,4,10.4
            c0,6.2,12,14,12,14s12-7.8,12-14C28,7.7,25.9,5.6,23.6,5.6z"/>
        </svg>
    </span>
    <span class="floating-heart" style="color:#f8bbd0;">
        <svg viewBox="0 0 32 32" fill="#f8bbd0" width="100%" height="100%">
            <path d="M23.6,5.6c-2.2,0-4.2,1.1-5.6,2.8C16,8.4,15.8,8.2,15.6,8c-1.4-1.7-3.4-2.8-5.6-2.8C6.1,5.6,4,7.7,4,10.4
            c0,6.2,12,14,12,14s12-7.8,12-14C28,7.7,25.9,5.6,23.6,5.6z"/>
        </svg>
    </span>
    <span class="floating-heart" style="color:#fff;">
        <svg viewBox="0 0 32 32" fill="#fff" width="100%" height="100%">
            <path d="M23.6,5.6c-2.2,0-4.2,1.1-5.6,2.8C16,8.4,15.8,8.2,15.6,8c-1.4-1.7-3.4-2.8-5.6-2.8C6.1,5.6,4,7.7,4,10.4
            c0,6.2,12,14,12,14s12-7.8,12-14C28,7.7,25.9,5.6,23.6,5.6z"/>
        </svg>
    </span>
    <span class="floating-heart" style="color:#e91e63;">
        <svg viewBox="0 0 32 32" fill="#e91e63" width="100%" height="100%">
            <path d="M23.6,5.6c-2.2,0-4.2,1.1-5.6,2.8C16,8.4,15.8,8.2,15.6,8c-1.4-1.7-3.4-2.8-5.6-2.8C6.1,5.6,4,7.7,4,10.4
            c0,6.2,12,14,12,14s12-7.8,12-14C28,7.7,25.9,5.6,23.6,5.6z"/>
        </svg>
    </span>
    <!-- Google Fonts para el header romántico -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <script>
        // Lluvia de corazones rápida
        function randomBetween(a, b) {
            return Math.random() * (b - a) + a;
        }
        function createHeart() {
            const heart = document.createElement('span');
            heart.className = 'floating-heart';
            const colors = ['#fff', '#e91e63', '#f8bbd0'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            heart.style.left = randomBetween(5, 90) + '%';
            heart.style.top = randomBetween(60, 90) + '%';
            heart.style.width = randomBetween(18, 38) + 'px';
            heart.style.height = heart.style.width;
            heart.style.animationDuration = randomBetween(1.5, 2.5) + 's';
            heart.style.animationDelay = '0s';
            heart.innerHTML = `<svg viewBox="0 0 32 32" fill="${color}" width="100%" height="100%">
                <path d="M23.6,5.6c-2.2,0-4.2,1.1-5.6,2.8C16,8.4,15.8,8.2,15.6,8c-1.4-1.7-3.4-2.8-5.6-2.8C6.1,5.6,4,7.7,4,10.4
                c0,6.2,12,14,12,14s12-7.8,12-14C28,7.7,25.9,5.6,23.6,5.6z"/>
            </svg>`;
            heart.style.zIndex = 1;
            document.currentScript.parentElement.appendChild(heart);
            setTimeout(() => {
                heart.remove();
            }, 2500);
        }
        setInterval(createHeart, 180); // Más rápido
    </script>
</header>

  <div class="form-container" id="form-container">
    <h2>Ingresa nuestro código secreto</h2>
    <input type="password" id="codeInput" placeholder="Código secreto">
    <button onclick="checkCode()">Abrir carta</button>
  </div>

  <div class="content" id="loveLetter">

    <div class="slider-container">
      <div class="slider" id="slider">
        <img src="imagenes/carta/4249271_cf5c2.gif" alt="Amor 1" />
        <img src="imagenes/carta/artworks-000035196723-0nh4cx-t500x500.jpg" alt="Amor 2" />
        <img src="imagenes/carta/images (1).jpg" alt="Amor 3" />
        <img src="imagenes/carta/images (2).jpg" alt="Amor 4" />
        <img src="imagenes/carta/images.jpg" alt="Amor 5" />
      </div>
      <!-- <button class="slider-btn prev" onclick="moveSlide(-1)">&#10094;</button>
      <button class="slider-btn next" onclick="moveSlide(1)">&#10095;</button> -->
    </div>
    <style>
      .slider-container {
        position: relative;
        max-width: 600px;
        aspect-ratio: 1.3/1;
        margin: 30px auto 40px auto;
        overflow: hidden;
        border-radius: 15px;
        box-shadow: 0 8px 32px rgba(233,30,99,0.15);
        background: rgba(255,255,255,0.7);
      }
      .slider {
        display: flex;
        transition: transform 1s cubic-bezier(.77,0,.18,1);
        will-change: transform;
        height: 100%;
      }
      .slider img {
        min-width: 100%;
        height: 100%;
        object-fit: contain;
        filter: brightness(0.98) saturate(1.15) blur(0.2px) drop-shadow(0 0 10px #e91e63aa);
        transition: filter 0.7s, transform 0.5s cubic-bezier(.77,0,.18,1);
        border-radius: 15px;
        cursor: pointer;
      }
      .slider img:hover {
        filter: brightness(1.05) saturate(1.3) blur(0px) drop-shadow(0 0 20px #e91e63cc);
        transform: scale(1.13);
        z-index: 3;
      }
      .slider-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(233,30,99,0.7);
        color: #fff;
        border: none;
        border-radius: 50%;
        width: 38px;
        height: 38px;
        font-size: 1.5rem;
        cursor: pointer;
        z-index: 2;
        box-shadow: 0 2px 8px #e91e6340;
        transition: background 0.3s;
      }
      .slider-btn:hover {
        background: #e91e63;
      }
      .slider-btn.prev { left: 10px; }
      .slider-btn.next { right: 10px; }
    </style>
    <script>
      let currentSlide = 0;
      const slider = document.getElementById('slider');
      const slides = slider.children;
      const totalSlides = slides.length;

      function showSlide(index) {
        currentSlide = (index + totalSlides) % totalSlides;
        slider.style.transform = `translateX(-${currentSlide * 100}%)`;
      }

      function moveSlide(step) {
        showSlide(currentSlide + step);
      }

      // Auto-slide every 3 seconds
      let autoSlide = setInterval(() => moveSlide(1), 3000);

      // Pause on hover (container)
      slider.parentElement.addEventListener('mouseenter', () => clearInterval(autoSlide));
      slider.parentElement.addEventListener('mouseleave', () => {
        autoSlide = setInterval(() => moveSlide(1), 3000);
      });

      // Initialize
      showSlide(0);
    </script>
    <script>
      let currentSlide = 0;
      const slider = document.getElementById('slider');
      const slides = slider.children;
      const totalSlides = slides.length;

      function showSlide(index) {
        currentSlide = (index + totalSlides) % totalSlides;
        slider.style.transform = `translateX(-${currentSlide * 100}%)`;
      }

      function moveSlide(step) {
        showSlide(currentSlide + step);
      }

      // Auto-slide every 4 seconds
      let autoSlide = setInterval(() => moveSlide(1), 4000);

      // Pause on hover
      slider.parentElement.addEventListener('mouseenter', () => clearInterval(autoSlide));
      slider.parentElement.addEventListener('mouseleave', () => {
        autoSlide = setInterval(() => moveSlide(1), 4000);
      });

      // Initialize
      showSlide(0);
    </script>

    <div id="letterText" style="background: linear-gradient(135deg, #e91e63 0%, #e6023f 100%); padding: 30px 20px; border-radius: 15px; box-shadow: 0 4px 24px #e91e6330; margin-bottom: 30px; font-size: 1.375rem; min-height: 350px; background-color: rgba(233,30,99,0.22); background-blend-mode: lighten;">
        <p style="font-style: italic; color: #fffcfc; text-shadow: 0 1px 12px #e91e6380;">“Puestos los ojos en Jesús, el autor y consumador de la fe.” – Hebreos 12:2</p>
        <div id="animatedLetter" style="text-align: left; line-height: 1.7; color: #fff; text-shadow: 0 1px 8px #e91e6380;"></div>
    </div>
    <script>
        // Texto de la carta
        const letterText = `Mi amor,

    No sé si estas palabras lleguen en el mejor momento, pero necesitaba escribirte desde lo más profundo de mi corazón. No para convencerte, sino para decirte con sinceridad cuánto te amo, cuánto reconozco mis errores y cuánto anhelo que Dios nos dé una nueva oportunidad.

    Sé que he fallado. Sé que hemos vivido momentos dolorosos. Y también sé que tú llevaste cargas pesadas. Muchas veces no supe amarte como merecías. Luché con heridas del pasado, con mi salud, con mis deseos, con el pecado, con la frustración de no poder liderar mi hogar como soñé. Y aun así, tú seguiste luchando... hasta que te cansaste.

    Hoy no te escribo para reclamarte nada. Al contrario, te doy gracias por todo lo que diste. Por las veces que estuviste, por las veces que diste más de lo que podías. Hoy, con lágrimas en los ojos, te digo: te amo. Y si aún queda algo en tu corazón, aunque sea una chispa, te pido que no dejemos esto sin pelear al menos una vez más —pero ahora con Dios como el centro.

    Quiero reconstruir, restaurar, y renacer. No te obligo a quedarte, pero te ruego que pongas esta historia en las manos del Autor de la fe. Jesús puede hacer lo que yo no he podido. Puede sanar nuestras heridas, restaurar nuestra intimidad, y volver a encender el amor que un día nos unió.

    Gracias por ser mi compañera, la madre de nuestras hijas, y por tantos momentos vividos. Te perdono, te pido perdón, y te amo en libertad.

    Con esperanza en Dios,
    Tu esposo 💖`;

        // Corazones cayendo en toda la página
        // CSS para corazones flotantes
        const style = document.createElement('style');
        style.textContent = `
        .falling-heart {
            position: fixed;
            top: -40px;
            pointer-events: none;
            z-index: 9999;
            width: 28px;
            height: 28px;
            opacity: 0.85;
            animation: fall-heart 3.8s linear forwards;
        }
        @keyframes fall-heart {
            0% {
                transform: translateY(0) scale(1) rotate(-10deg);
                opacity: 0.85;
            }
            80% {
                opacity: 0.85;
            }
            100% {
                transform: translateY(110vh) scale(1.15) rotate(24deg);
                opacity: 0;
            }
        }
        `;
        document.head.appendChild(style);

        // Función para crear corazones
        function createFallingHeart() {
            const heart = document.createElement('span');
            heart.className = 'falling-heart';
            const colors = ['#e91e63', '#fff', '#f8bbd0', '#f06292'];
            const color = colors[Math.floor(Math.random() * colors.length)];
            const left = Math.random() * 98; // porcentaje
            heart.style.left = left + 'vw';
            heart.style.width = (18 + Math.random() * 18) + 'px';
            heart.style.height = heart.style.width;
            heart.style.animationDuration = (2.8 + Math.random() * 2.2) + 's';
            heart.innerHTML = `<svg viewBox="0 0 32 32" fill="${color}" width="100%" height="100%">
                <path d="M23.6,5.6c-2.2,0-4.2,1.1-5.6,2.8C16,8.4,15.8,8.2,15.6,8c-1.4-1.7-3.4-2.8-5.6-2.8C6.1,5.6,4,7.7,4,10.4
                c0,6.2,12,14,12,14s12-7.8,12-14C28,7.7,25.9,5.6,23.6,5.6z"/>
            </svg>`;
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 4000);
        }

        // Intervalo para crear corazones
        setInterval(createFallingHeart, 220);

        // Divide el texto en palabras y mantiene los saltos de línea
        function splitTextWithLineBreaks(text) {
            const lines = text.split('\n');
            let words = [];
            lines.forEach((line, idx) => {
                if (line.trim() === "") {
                    words.push("<br><br>");
                } else {
                    const lineWords = line.split(' ');
                    lineWords.forEach((w, i) => {
                        words.push(w);
                        if (i < lineWords.length - 1) words.push(" "); // Agrega espacio entre palabras
                    });
                    if (idx < lines.length - 1) words.push("<br>");
                }
            });
            return words;
        }

        const words = splitTextWithLineBreaks(letterText);
        const container = document.getElementById('animatedLetter');
        let i = 0;

        function showNextWord() {
            if (i < words.length) {
                if (words[i] === "<br>") {
                    container.appendChild(document.createElement('br'));
                } else if (words[i] === "<br><br>") {
                    container.appendChild(document.createElement('br'));
                    container.appendChild(document.createElement('br'));
                } else if (words[i] === " ") {
                    container.appendChild(document.createTextNode(" "));
                } else {
                    // Crea un span para animar el tamaño de la palabra
                    const span = document.createElement('span');
                    span.style.display = 'inline-block';
                    span.style.transition = 'transform 0.4s cubic-bezier(.77,0,.18,1)';
                    span.style.transform = 'scale(0.7)';
                    span.textContent = words[i];
                    container.appendChild(span);
                    setTimeout(() => {
                        span.style.transform = 'scale(1.15)';
                        setTimeout(() => {
                            span.style.transform = 'scale(1)';
                        }, 200);
                    }, 10);
                }
                i++;
                setTimeout(showNextWord, 70); // velocidad de aparición
            }
        }

        // Inicia la animación cuando se muestra la carta
        function startLetterAnimation() {
            container.innerHTML = "";
            i = 0;
            showNextWord();
        }

        // Detecta cuando la carta se muestra
        const observer = new MutationObserver(() => {
            const letter = document.getElementById("loveLetter");
            if (letter && letter.style.display === "block") {
                startLetterAnimation();
                observer.disconnect();
            }
        });
        observer.observe(document.getElementById("loveLetter"), { attributes: true, attributeFilter: ['style'] });
    </script>

    <img src="imagenes/carta/Fe.png" alt="Esperanza y amor">

    <h3>🎵 Nuestra canción: Siempre en mi mente</h3>
    <audio id="loveAudio" autoplay style="display:none"></audio>
      <source src="video/Juan Gabriel - Siempre en Mi Mente (Cover Audio).mp3" type="audio/mpeg">
      Tu navegador no soporta audio.
    </audio>
    <script>
      // Reproducir audio automáticamente cuando se muestre la carta
      function playLoveAudio() {
        const audio = document.getElementById('loveAudio');
        if (audio) {
          audio.play().catch(() => {
            // Autoplay puede estar bloqueado por el navegador
          });
        }
      }
      // Llama a playLoveAudio cuando la carta se muestra
      const originalCheckCode = checkCode;
      window.checkCode = function() {
        originalCheckCode();
        setTimeout(playLoveAudio, 500);
      };
    </script>

    <p style="margin-top: 40px; color: red; font-size: larger;">Gracias por leer hasta el final. Esta página es para ti. Y si Dios toca tu corazón... aún hay esperanza. 💫</p>
  </div>

  <script>
    function checkCode() {
      const code = document.getElementById("codeInput").value;
      const secret = "SandyDs18Parasiempre"; // Reemplaza por tu código real

      if (code === secret) {
        document.getElementById("form-container").style.display = "none";
        const letter = document.getElementById("loveLetter");
        letter.style.display = "block";
        // Forzar animación reiniciando offsetHeight
        void letter.offsetHeight;
        letter.style.animation = "fadeIn 2s ease forwards";
      } else {
        alert("Código incorrecto. Intenta de nuevo.");
      }
    }
  </script>

</body>
</html>
